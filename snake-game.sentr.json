{"name":"Super Evil New Tab Redux Configuration","data":{"html":"<!-- Credits: https://codepen.io/fariati/pen/mdRpEYP -->\n\n<div class=\"container noselect\">\n  <div class=\"wrapper\">\n    <button id=\"replay\">\n      <i class=\"fas fa-play\"></i>\n      RESTART\n    </button>\n    <div id=\"canvas\">\n\n    </div>\n    <div id=\"ui\">\n      <h2>SCORE\n      </h2>\n      <span id=\"score\">00</span>\n    </div>\n  </div>\n  <div id=\"credit\">\n    <h1>SNAKE</h1> <span>by Fariat</span>\n  </div>\n</div>","css":"body, html {\n  margin: 0;\n  padding: 0;\n}\n@font-face {\n  font-family: \"game\";\n  src: url(\"https://fonts.googleapis.com/css2?family=Poppins:wght@500;800&display=swap\");\n}\n* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\nbutton:focus {\n  outline: 0;\n}\n\nhtml,\nbody {\n  height: 100%;\n  font-family: \"Poppins\", sans-serif;\n  color: #6e7888;\n}\nbody {\n  background-color: #222738;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #6e7888;\n}\ncanvas {\n  background-color: #181825;\n}\n.container {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-flow: column wrap;\n  justify-content: center;\n  align-items: center;\n}\n#ui {\n  display: flex;\n  align-items: center;\n  font-size: 10px;\n  flex-flow: column;\n  margin-left: 10px;\n}\nh2 {\n  font-weight: 200;\n  transform: rotate(270deg);\n}\n#score {\n  margin-top: 20px;\n  font-size: 30px;\n  font-weight: 800;\n}\n.noselect {\n  user-select: none;\n}\n#replay {\n  font-size: 10px;\n  padding: 10px 20px;\n  background: #6e7888;\n  border: none;\n  color: #222738;\n  border-radius: 20px;\n  font-weight: 800;\n  transform: rotate(270deg);\n  cursor: pointer;\n  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n#replay:hover {\n  background: #a6aab5;\n  background: #4cffd7;\n  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n#replay svg {\n  margin-right: 8px;\n}\n@media (max-width: 600px) {\n  #replay {\n    margin-bottom: 20px;\n  }\n  #replay,\n  h2 {\n    transform: rotate(0deg);\n  }\n  #ui {\n    flex-flow: row wrap;\n    margin-bottom: 20px;\n  }\n  #score {\n    margin-top: 0;\n    margin-left: 20px;\n  }\n  .container {\n    flex-flow: column wrap;\n  }\n}\n#credit {\n  width: 100%;\n  bottom: 40px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  color: inherit;\n  text-transform: uppercase;\n  padding-left: 35px;\n}\n#credit span {\n  font-size: 10px;\n  margin-left: 20px;\n  color: inherit;\n  letter-spacing: 4px;\n}\n#credit h1 {\n  font-size: 25px;\n}\n.wrapper {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 20px;\n}","javascript":"let replay=document.querySelector(\"#replay\"),score=document.querySelector(\"#score\"),canvas=document.createElement(\"canvas\");document.querySelector(\"#canvas\").appendChild(canvas);let ctx=canvas?canvas.getContext(\"2d\"):null;function cnvRes(t=400,s=400){ctx.canvas.width=t,ctx.canvas.height=s}let _vars={snake:void 0,snakeLength:void 0,food:void 0,currentHue:void 0,segments:void 0,historyPath:[],gameOver:!1,tails:[],update:void 0,maxScore:void 0,effects:[],effectCount:50},_helpers={collision(t,s){if(t)s.x==_vars.food.x&&s.y==_vars.food.y&&(_vars.food.respawn(),_vars.tails.push(new Snake(_vars.snakeLength-1,\"tail\")),_vars.snakeLength++,_vars.snake.delay);else for(let t=1;t<_vars.historyPath.length;t++)s.x==_vars.historyPath[t].x&&s.y==_vars.historyPath[t].y&&(_vars.gameOver=!0)},randHue:()=>Math.floor(360*Math.random()),randCor(t){let s=Math.floor(Math.random()*_vars.segments)*ctx.canvas.width/_vars.segments,e=Math.floor(Math.random()*_vars.segments)*ctx.canvas.height/_vars.segments;return t?{randX:s=Math.floor(Math.random()*_vars.segments)*ctx.canvas.width/_vars.segments,randY:e=Math.floor(Math.random()*_vars.segments)*ctx.canvas.height/_vars.segments}:{randX:s,randY:e}},positionLogger(t,s){_vars.historyPath.push(s),_vars.historyPath.length>t&&_vars.historyPath.shift()},hsl2rgb(t,s,e){if(null==t)return[0,0,0];var a,r,i,h=(1-Math.abs(2*e-1))*s,n=t/60,o=h*(1-Math.abs(n%2-1));0===(n=Math.floor(n))?(a=h,r=o,i=0):1===n?(a=o,r=h,i=0):2===n?(a=0,r=h,i=o):3===n?(a=0,r=o,i=h):4===n?(a=o,r=0,i=h):5===n&&(a=h,r=0,i=o);var c=e-h/2;return a+=c,r+=c,i+=c,[Math.round(255*a),Math.round(255*r),Math.round(255*i)]},lerp:(t,s,e)=>t*(1-e)+s*e},_input={left:!1,down:!1,right:!0,up:!1,listen(){addEventListener(\"keydown\",t=>{switch(t.key){case\"ArrowLeft\":this.right||(this.left=!0,this.down=!1,this.right=!1,this.up=!1);break;case\"ArrowRight\":this.left||(this.left=!1,this.down=!1,this.right=!0,this.up=!1);break;case\"ArrowUp\":this.down||(this.left=!1,this.down=!1,this.right=!1,this.up=!0);break;case\"ArrowDown\":this.up||(this.left=!1,this.down=!0,this.right=!1,this.up=!1)}},!1)}};class Snake{constructor(t,s){this.x=\"tail\"==s?_vars.historyPath[t].x:0,this.y=\"tail\"==s?_vars.historyPath[t].y:0,this.type=s,this.index=t,this.delay=10,this.localDelay=10,this.size=ctx.canvas.width/_vars.segments,this.color=\"white\"}draw(){ctx.lineWidth=1,ctx.fillStyle=this.color,ctx.strokeStyle=\"#181825\",ctx.strokeRect(this.x,this.y,this.size,this.size),ctx.fillRect(this.x,this.y,this.size,this.size)}update(){this.draw(),this.localDelay<0?\"tail\"==this.type?(this.x=_vars.historyPath[this.index].x,this.y=_vars.historyPath[this.index].y):(this.localDelay=this.delay,_input.left&&(this.x-=ctx.canvas.width/_vars.segments),_input.right&&(this.x+=ctx.canvas.width/_vars.segments),_input.up&&(this.y-=ctx.canvas.width/_vars.segments),_input.down&&(this.y+=ctx.canvas.width/_vars.segments),this.x+ctx.canvas.width/_vars.segments>ctx.canvas.width&&(this.x=0),this.y+ctx.canvas.height/_vars.segments>ctx.canvas.width&&(this.y=0),this.y<0&&(this.y=ctx.canvas.height-ctx.canvas.height/_vars.segments),this.x<0&&(this.x=ctx.canvas.width-ctx.canvas.width/_vars.segments),_helpers.collision(!0,{...this}),_helpers.collision(!1,{...this}),_helpers.positionLogger(_vars.snakeLength,{x:this.x,y:this.y})):this.localDelay--}}class Food extends Snake{constructor(){super(),this.x=Math.floor(Math.random()*_vars.segments)*ctx.canvas.width/_vars.segments,this.y=Math.floor(Math.random()*_vars.segments)*ctx.canvas.height/_vars.segments,this.color=_vars.currentHue=`hsl(${_helpers.randHue()}, 100%, 55%)`}draw(){ctx.save(),ctx.shadowColor=this.color,ctx.shadowBlur=50,ctx.fillStyle=this.color,ctx.fillRect(this.x,this.y,this.size,this.size),ctx.restore()}respawn(){for(let t=0;t<_vars.effectCount;t++)_vars.effects.push(new Effect(_vars.food.x,_vars.food.y,_vars.currentHue,_vars.food.size));this.color=_vars.currentHue=`hsl(${_helpers.randHue()}, 100%, 50%)`,this.x=Math.floor(Math.random()*_vars.segments)*ctx.canvas.width/_vars.segments,this.y=Math.floor(Math.random()*_vars.segments)*ctx.canvas.height/_vars.segments;for(let t=0;t<_vars.historyPath.length;t++)this.x==_vars.historyPath[t].x&&this.y==_vars.historyPath[t].y&&this.respawn()}}class Effect{constructor(t,s,e,a){this.x=t,this.y=s,this.color=e,this.size=a/2,this.ttl=0,this.gravity=.1,this.vel={x:5*Math.random()-2.5,y:5*Math.random()-2.5}}draw(){let t=this.color.split(\"\").filter(t=>t.match(/[^hsl()$% ]/g)).join(\"\").split(\",\").map(t=>+t),[s,e,a]=_helpers.hsl2rgb(t[0],t[1]/100,t[2]/100);ctx.fillStyle=`rgb(${s},${e},${a},${1/this.ttl})`,ctx.fillRect(this.x,this.y,this.size,this.size)}update(){this.draw(),this.size-=.05,this.ttl+=.5,this.y+=this.vel.y,this.x+=this.vel.x,this.vel.y+=this.gravity}}function scoreManager(){let t=_vars.snakeLength-1;score.innerText=t.toString()}function cleanMem(){for(let t=0;t<_vars.effects.length;t++)_vars.effects[t].ttl>=100&&_vars.effects.splice(t,1)}function setup(){cnvRes(),_input.listen(),_vars.segments=32,_vars.snakeLength=1,_vars.snake=new Snake(\"head\"),_vars.food=new Food,loop()}function loop(){_vars.update=setInterval(()=>{if(_vars.gameOver)ctx.clearRect(0,0,canvas.width,canvas.height),gameOver();else{if(ctx.clearRect(0,0,canvas.width,canvas.height),_vars.snake.update(),_vars.tails.length)for(let t=0;t<_vars.tails.length;t++)_vars.tails[t].update();_vars.food.draw(),scoreManager();for(let t=0;t<_vars.effects.length;t++)_vars.effects[t].update();cleanMem()}},1e3/60)}function gameOver(){!_vars.maxScore&&(_vars.maxScore=_vars.snakeLength-1),_vars.snakeLength-1>_vars.maxScore&&(_vars.maxScore=_vars.snakeLength-1),ctx.fillStyle=\"#4cffd7\",ctx.textAlign=\"center\",ctx.font=\"bold 30px Poppins, sans-serif\",ctx.fillText(\"GAME OVER\",ctx.canvas.width/2,ctx.canvas.height/2),ctx.font=\"15px Poppins, sans-serif\",ctx.fillText(`SCORE   ${_vars.snakeLength-1}`,ctx.canvas.width/2,ctx.canvas.height/2+60),ctx.fillText(`MAXSCORE   ${_vars.maxScore}`,ctx.canvas.width/2,ctx.canvas.height/2+80)}function reset(){clearInterval(_vars.update),_vars.snake=void 0,_vars.snakeLength=void 0,_vars.food=void 0,_vars.currentHue=void 0,_vars.segments=void 0,_vars.historyPath=[],_vars.gameOver=!1,_vars.tails=[],_vars.update=void 0,_input.left=!1,_input.down=!1,_input.right=!0,_input.up=!1,setup()}setup(),replay.addEventListener(\"click\",()=>{reset()});"}}